PASO A TABLAS

N_TABLA (atributo1, atributo2, atributo3, etc...)
CP: {atributo}														CLAVE PRIMARIA (PK)
CAj: {atributo --> TABLA_REFERENCIADA(atributo_referenciado)}		CLAVE AJENA (FK)
VNN: {atributo}														ATRIBUTO CON VALOR NO NULO (NOT NULL)	
uk: {atributo}														AtTRIBUTO CON VALOR UNICO (UK)								

SUBRAYADO --> CLAVE PRIMARIA
SUBRAYADO DISCONTINUO --> ATRIBUTO DERIVADO
ASTERISCO --> VALOR UNICO
{}n --> ATRIBUTO MULTIVALUADO




COMANDOS BBDD

DDL (metadatos)

CREATE DATABASE n_base CHARACTER SET utf8 COLLATE utf8_spanish_ci;	CREAR UNA BASE DE DATOS

CREATE TABLE n_tabla (												CREAR UNA TABLA
atributo tipo_atributo,												METER ATRIBUTOS EN UNA TABLA
atributo tipo_atributo NOT NULL,									ATRIBUTO CON RESTRICCION DE VALOR NO NULO
atributo tipo_atributo DEFAULT valor,								ATRIBUTO CON UN VALOR POR DEFECTO					
CONSTRAINT															RESTRICCIONES								
ENGINE = innoDB														ESCOGEMOS LA INGENIERIA DE LA TABLA
);																	CERRAR UNA TABLA

TIPOS DE ATRIBUTOS:
		CHAR (cantidad de caracteres fijos)
		VARCHAR(cantidad de caracteres máximos)
		TEXT														TEXTOS LARGOS
		INTEGER														NUMERO ENTERO
		DOUBLE														NÚMERO REAL
		FLOAT														NUMERO REAL COMA FLOTANTE
		DATE														FECHA
		TIMESTAMP													FECHA QUE TOMA POR DEFECTO LA FECHA DEL SISTEMA
		DATETIME													FECHA Y HORA
		TIME														HORA
		YEAR														AÑO
		BLOB														IMAGEN

TIPOS DE CONSTRAINT:
		PRIMARY KEY(atributo)										CLAVE PRIMARIA
		FOREIGN KEY(atributo) REFERENCES tablareferenciada(campo)	CLAVE AJENA
		UNIQUE KEY(atributo)										VALOR UNICO
		CHECK(condición)											CONDICIONES ESPECIALES
				(atributo IN ('palabra', 'palabra', etc...))		EL ATRIBUTO HA DE COINCIDIR CON UNA DE LAS PALABRAS ESPECIFICADAS

ON DELETE CASCADE													BORRA EN CASCADA EN CASO DE BORRAR EL ATRIBUTO REFERENCIADO
ON UPDATE CASCADE													ACTUALIZA EN CASCADA EN CASO DE MODIFICACIÓN DEL ATRIBUTO REFERENCIADO
ON DELETE NO ACTION													NO SE PUEDE BORRAR EL ATRIBUTO REFERENCIADO. MODO POR DEFECTO
ON UPDATE NO ACTION													NO SE PUEDE MODIFICAR EL ATRIBUTO REFERENCIADO. MODO POR DEFECTO
ON DELETE SET NULL													COLOCA VALOR NULO EN CASO DE BORRAR EL ATRIBUTO REFERENCIADO
ON DELETE SET DEFAULT												COLOCA EL VALOR POR DEFECTO (EN CASO DE TENERLO) EN CASO DE BORRAR EL ATRIBUTO REFERENCIADO.
				
																	
ALTER TABLE n_tabla 												MODIFICAR UNA TABLA
ADD	CONSTRAINT														AÑADIR UNA RESTRICCIÓN A LA TABLA
DROP CONSTRAINT														QUITAR UNA RESTRICCIÓN DE LA TABLA
NO SE PUEDE MODIFICAR UNA CONSTRAINT. HAY QUE ELIMINARLA Y VOLVERLA A CREAR
DROP COLUMN															QUITAR UNA COLUMNA DE LA TABLA
MODIFY n_atributo													MODIFICA UN ATRIBUTO. SE LE PUEDE CAMBIAR EL NOMBRE, AÑADIR EL TIPO Y AÑADIR EL NOT NULL
TRUNCATE n_tabla													BORRA TODO EL CONTENIDO DE DATOS DE UNA TABLA. SE PUEDEN RECUPERAR LOS DATOS

--------------------------------------------------------------------------------------------------------

DML

INSERT INTO n_tabla (atributo1, atributo2, atributo3, etc...)		PREPARAS PARA INSERTAR DATOS EN UNA TABLA
VALUES (valor1, valor2, valor3, etc...),							INTRODUCES LOS DATOS EN LA TABLA. HAN DE ESTAR EN EL MISMO ORDEN QUE LOS ATRIBUTOS QUE METISTE ANTES. 
(valor1, valor2, valor3, etc...);									SEGUNDA FILA DE DATOS. PUEDES METER TODAS LAS QUE QUIERAS TERMINADAS EN , Y EN ; PARA TERMINAR.

valor1 corresponde al atributo1, valor 2 al atributo2, etc...

DELETE FROM n_tabla													PREPARAMOS PARA BORRAR DATOS DE UNA TABLA
WHERE n_atributo = < o > condicion;									SE ESPECIFICA LA CONDICIÓN A CUMPLIR PARA BORRAR DATOS

UPDATE n_tabla														PREPARAMOS PARA MODIFICAR ALGUN DATO DENTRO DE LA TABLA
SET n_atributo = valor												INTRODUCIMOS EL NUEVO VALOR
WHERE n_atributo = < o > condición;

----------------------------------------------------------------------------------------------------------

TCL

COMMIT																GUARDA EL TRABAJO REALIZADO.
SAVEPOINT															IDENTIFICA UN PUNTO EN UNA TRANSACCIÓN A LA QUE MÁS TARDE SEVPUEDE VOLVER.
ROLLBACK 															RESTAURAR LA BASE DE DATOS A LA ORIGINAL, HASTA EL ÚLTIMO COMMIT.
SET TRANSACTION 													CAMBIA LAS OPCIONES DE TRANSACCIÓN COMO NIVEL DE AISLAMIENTO Y QUÉ SEGMENTO DE CANCELACIÓN UTILIZA..
SET autocommit = 0													QUITAS EL AUTOCOMMIT
SET autocommit = 1													PONES EL AUTOCOMMIT

--------------------------------------------------------------------------------------------------------------

OPCIONES

USE (NOMBRE BASE DE DATOS)											PARA ENTRAR DENTRO DE LA BASE DE DATOS.
SHOW DATABASE														PARA VER LAS BASES DE DATOS 
SHOW TABLES															PARA VER LAS TABLAS QUE TIENES DENTRO DE UNA BASE DE DATOS
DESC (NOMBRE DE LA TABLA)											PARA VER LA TABLA
SELECT * FROM (NOMBRE DE LA TABLA)									PARA VER EL CONENIDO DE LA TABLA
SHOW CREATE TABLE (NOMBRE DE LA TABLA)								PARA VER LA INFORMACION DE COMO SE HA CREADO LA TABLA